[
  {
    "test_name": "vcf-to-bq-4-0",
    "table_name": "vcf_to_bq_4_0",
    "input_pattern": "gs://gcp-variant-transforms-testfiles/small_tests/valid-4.0.vcf",
    "runner": "DirectRunner",
    "script": "vcf_to_bq",
    "zones": ["us-west1-b"],
    "assertion_configs": [
      {
        "query": ["NUM_ROWS_QUERY"],
        "expected_result": {"num_rows": 5}
      },
      {
        "query": ["SUM_START_QUERY"],
        "expected_result": {"sum_start": 3607195}
      },
      {
        "query": ["SUM_END_QUERY"],
        "expected_result": {"sum_end": 3607203}
      }
    ]
  },
  {
    "test_name": "bq-to-vcf-4-0-step-1",
    "table_name": "vcf_to_bq_4_0",
    "representative_header_file": "gs://gcp-variant-transforms-testfiles/small_tests/valid-4.0.vcf",
    "output_file": "gs://integration_test_runs/temp/bq_to_vcf_4_0.vcf",
    "script": "bq_to_vcf",
    "runner": "DirectRunner",
    "zones": ["us-west1-b"]
  },
  {
    "test_name": "bq-to-vcf-4-0-step-2",
    "table_name": "bq_to_vcf_4_0",
    "input_pattern": "gs://integration_test_runs/temp/bq_to_vcf_4_0.vcf",
    "runner": "DirectRunner",
    "script": "vcf_to_bq",
    "zones": ["us-west1-b"],
    "assertion_configs": [
      {
        "query": ["NUM_ROWS_QUERY"],
        "expected_result": {"num_rows": 5}
      },
      {
        "query": ["SUM_START_QUERY"],
        "expected_result": {"sum_start": 3607195}
      },
      {
        "query": ["SUM_END_QUERY"],
        "expected_result": {"sum_end": 3607203}
      }
    ]
  }
]
